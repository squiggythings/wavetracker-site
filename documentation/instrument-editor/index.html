<!DOCTYPE html>
<html lang="en">
    <html lang="en">
        <head>
            <title>Instrument Editor - WaveTracker</title>
            <base href="../" />
            <link rel="stylesheet" type="text/css" href="style.css" />
            <link rel="shortcut icon" type="image/png" href="../Icon.ico" />
            <meta name="viewport" content="width=device-width, initial-scale=0.65" />
        </head>

        <body>
            <aside>
                <ul class="sideNav">
                    <li><h2>General</h2></li>
                    <a href=""><li>Overview</li></a>
                    <li><h2>Interface</h2></li>
                    <a href="toolbar/"><li>Toolbar</li></a>
                    <a href="module-panel/"><li>Module Panel</li></a>
                    <a href="edit-settings/"><li>Edit Settings</li></a>
                    <a href="frames-panel/"><li>Frames Panel</li></a>
                    <a href="wave-bank/"><li>Wave Bank</li></a>
                    <a href="instrument-bank/"><li>Instrument Bank</li></a>
                    <a class="selected" href="instrument-editor/"><li>Instrument Editor</li></a>
                    <a href="pattern-editor/"><li>Pattern Editor</li></a>
                    <a href="preferences/"><li>Preferences</li></a>
                    <a href="visualizer-mode/"><li>Visualizer Mode</li></a>
                    <li><h2>Reference</h2></li>
                    <a href="keyboard-shortcuts/"><li>Keyboard Shortcuts</li></a>
                    <a href="effect-list/"><li>Effect List</li></a>
                </ul>
            </aside>
            <article>
                <h1 class="topic">Instrument Editor</h1>
                <hr />
                <br />
                <p>
                    The instrument editor is where you can create custom presets that define how a sound behaves. You
                    can then reuse this preset as many times as you like in your song.
                </p>
                <br />
                <h2>Wave and Sample Instruments</h2>
                <p>
                    There are two types of instruments in WaveTracker, wave and sample instruments. Wave instruments
                    play and manipulate waves from the <a href="wave-bank">Wave Bank</a>, while sample instruments play
                    back an audio clip.
                </p>
                <p>
                    Wave instruments hold only envelopes, while Sample instruments have both a sample, and envelopes
                    tab. Although, wave instruments have a few more envelope options than sample instruments.
                </p>
                <br />
                <h2>Envelope Editor</h2>
                <p>
                    Envelopes are sequences that control elements of the instrument's sound over time. There are 3
                    envelope types instruments can have, and an additional 5 wave-specific envelopes available for wave
                    instruments.
                </p>

                <img
                    src="instrument-editor/envelope_editor.png"
                    title="The envelope editor, editing a volume envelope"
                    alt="Image of the envelope editor, editing a volume envelope"
                />
                <table border="1" cellpadding="3px" class="panel">
                    <tr valign="top">
                        <th style="width: 160px">Envelope Type</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td style="width: 300px; font-weight: bold; border-right: 0px">Wave & Sample instruments</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px">Volume</td>
                        <td>Controls the channel's volume.</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px">Arpeggio</td>
                        <td>Allows you to define arpeggios by offsetting the channel's current note.</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px">Pitch</td>
                        <td>
                            Controls pitch slides, each step in the envelope raises or lowers the pitch of the channel.
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 300px; font-weight: bold; border-right: 0px">Wave instruments only</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px">Wave</td>
                        <td>Sets the wave of the channel from the wave bank.</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px">Wave Blend</td>
                        <td>Blends the current channels wave with the next one in the wave bank.</td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px">Wave Stretch</td>
                        <td>
                            Stretches the channel's current wave from the center outwards for a kind of pulse width
                            modulation effect.
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px">Wave FM</td>
                        <td>
                            Performs frequency modulation using the channel's current wave as the carrier and the next
                            wave in the wave bank as the modulator.
                        </td>
                    </tr>
                    <tr>
                        <td style="padding-left: 20px">Wave Sync</td>
                        <td>Repeats the channel's wave multiple times during the wave's cycle.</td>
                    </tr>
                </table>
                <br />
                <h3>Editing</h3>
                <p>
                    Envelopes can be added by selecting them from the 'Add Envelope' button. To delete the envelope,
                    click the 'X' to the right of the envelope's name. Toggle the switch to the left side of the
                    envelope to temporarily enable/bypass the envelope.
                </p>
                <p>
                    To edit an envelope, first set the length of the envelope with the Length control, then draw the
                    envelope's contour in the grid, by clicking and dragging. Hold Shift while drawing to create
                    straight lines. Envelopes can also be typed in manually via the text box below the draw area.
                </p>

                <br />
                <h3>Loop and Release</h3>
                <p>
                    The two ribbons at the top of the envelope editor are where you can set flags for loop points and
                    release points in the envelope. To add a flag, click any point along the ribbon where the flag
                    should be. Click the point again to remove it.
                </p>
                <p>
                    If the envelope has a release, the envelope will play up until the release point, and wait there
                    until a Note Release (===) is triggered from the pattern editor. If the envelope has a loop point
                    before a release point, it will loop that section until the envelope is released. If the loop point
                    is afterwards, it will loop that portion indefinitely.
                </p>
                <p>Loops and releases are represented in the envelope text box as '|' and '/', respectively.</p>
                <br />
                <h2>Sample Editor</h2>
                <p>
                    The 'Sample' tab is only available on sample instruments. It allows the import of any .wav, .flac or
                    .mp3 file into an instrument. They can then be used in the pattern and will be repitched to whatever
                    note is being played.
                </p>

                <img
                    src="instrument-editor/sample_editor.png"
                    title="The sample editor, editing an audio sample"
                    alt="Image of the sample editor, editing an audio sample"
                />
                <p>
                    Clicking 'Import Sample' will open a file browser dialog, allowing you to navigate to the location
                    of the file you would like to sample. Choosing a file will load it into the sample editor.
                </p>

                <p>Above the sample editor is the length of the audio, in digital audio samples, and in seconds.</p>
                <p>Below the sample are some settings specific to the sample.</p>
                <table border="1" cellpadding="3px" class="panel">
                    <tr valign="top">
                        <th style="width: 160px">Setting</th>
                        <th>Description</th>
                    </tr>

                    <tr>
                        <td>Base key</td>
                        <td>
                            Use this to transpose the sample up or down so that the note played matches the note heard.
                        </td>
                    </tr>
                    <tr>
                        <td>Fine tune</td>
                        <td>Detunes the sample up or down in cents.</td>
                    </tr>
                    <tr>
                        <td>Loop mode</td>
                        <td>
                            Defines how the sample should loop, if at all:
                            <ul style="margin: 0">
                                <li>
                                    <span style="font-weight: bold">One-shot:</span> The sample does not loop, playback
                                    stops at the end of the sample.
                                </li>
                                <li>
                                    <span style="font-weight: bold">Forward:</span> When playback reaches the end of the
                                    sample, it loops back to the loop point.
                                </li>
                                <li>
                                    <span style="font-weight: bold">Ping-pong:</span> When playback reaches the end of
                                    the sample, it plays in reverse until the loop point, and then plays forwards again.
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>Loop position</td>
                        <td>
                            This option is only visible when the loop mode is set to
                            <span style="font-weight: bold">Forward</span> or
                            <span style="font-weight: bold">Ping-pong</span>. Allows you to set the exact position of
                            the loop point in digital audio samples. This can be useful to find the nearest
                            zero-crossing to avoid clicking at the loop point.
                        </td>
                    </tr>
                    <tr>
                        <td>Resampling mode</td>
                        <td>
                            Defines how the sample should be interpolated when played at different pitches
                            <ul style="margin: 0">
                                <li>
                                    <span style="font-weight: bold">Harsh:</span> No interpolation, uses nearest
                                    neighbor resampling. This gives a very bright and digital sound.
                                </li>
                                <li>
                                    <span style="font-weight: bold">Smooth:</span> Linear interpolation. This gives a
                                    smoother, darker sound. This is the default option for any samples unless otherwise
                                    changed in preferences.
                                </li>
                                <li>
                                    <span style="font-weight: bold">Mix:</span> An average between the harsh and smooth
                                    modes. Provides a compromise that retains some brightness on the low end with less
                                    aliasing at the high end.
                                </li>
                            </ul>
                        </td>
                    </tr>
                </table>
                <br />
                <h3>Looping</h3>
                <p>
                    By default samples are set to the <span style="font-weight: bold">One-shot</span> loop mode. To make
                    a sample loop at the end, the loop mode needs to be either
                    <span style="font-weight: bold">Forward</span> or <span style="font-weight: bold">Ping-pong</span>.
                </p>
                <p>
                    When looping is enabled, the looping portion of the sample will be highlighted yellow. The loop
                    point can be set with the 'Loop position' number box. Below the loop mode dropdown. Alternatively,
                    an easier way to set the loop point is to Shift+Click the point along the sample where the loop
                    point should be. This will automatically create a loop point at that location. The loop point can
                    also be set by right clicking the sample and selecting 'Set loop point'.
                </p>
                <br />
                <h3>Editing</h3>
                <p>The right-most section of the sample editor contains tools with which to modify the sample:</p>
                <p>
                    Regional selections can be made by clicking and dragging over the sample. If a portion of the sample
                    is highlighted, then the tools will affect only the selected region.
                </p>
                <table border="1" cellpadding="3px" class="panel">
                    <tr valign="top">
                        <th style="width: 160px">Tool</th>
                        <th>Description</th>
                    </tr>

                    <tr>
                        <td>Normalize</td>
                        <td>
                            Makes the sample have maximum amplitude so there is no wasted headroom. By default all
                            samples are normalized upon import. This can be turned off in Preferences.
                        </td>
                    </tr>
                    <tr>
                        <td>Reverse</td>
                        <td>Reverses the sample so that it plays backwards.</td>
                    </tr>
                    <tr>
                        <td>Fade in</td>
                        <td>Makes the sample gradually get softer until it reaches silence at the very end.</td>
                    </tr>
                    <tr>
                        <td>Fade out</td>
                        <td>Makes the beginning of the sample silent and gradually become louder.</td>
                    </tr>
                    <tr>
                        <td>Amplify+</td>
                        <td>
                            Increases the volume of the sample slightly, will clip any parts of the sample that are
                            already maximum amplitude.
                        </td>
                    </tr>
                    <tr>
                        <td>Amplify-</td>
                        <td>Decreases the volume of the sample slightly.</td>
                    </tr>
                    <tr>
                        <td>Invert</td>
                        <td>Flips the polarity of the sample</td>
                    </tr>
                    <tr>
                        <td>Cut</td>
                        <td>
                            Only available if a region of the sample is selected. Removes the selected portion from the
                            sample.
                        </td>
                    </tr>
                </table>
                <br />
                <h3>Saving a sample</h3>
                <p>
                    Samples can be exported to the disk by right clicking the sample and selecting 'Save as...' This
                    will prompt a dialog to choose a location and filename, then save it as a 32-bit .wav file.
                </p>
                <br />

                <footer>
                    <hr />
                    WaveTracker is Copyright © 2024 Elias Ananiadis &middot;
                    <a href="https://github.com/squiggythings/WaveTracker">Source code</a> &middot;
                    <a href="https://eliasananiadis.com">Personal site</a>
                </footer>
            </article>
        </body>
    </html>
</html>
